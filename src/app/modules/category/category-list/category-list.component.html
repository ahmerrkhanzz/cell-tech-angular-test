<main class="login d-flex flex-row align-items-center min-vh-100 p-3">
  <div class="container">
    <div class="row">
      <div class="col-md-12">
        <nav style="--bs-breadcrumb-divider: url(&#34;data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='8' height='8'%3E%3Cpath d='M2.5 0L1 1.5 3.5 4 1 6.5 2.5 8l4-4-4-4z' fill='%236c757d'/%3E%3C/svg%3E&#34;);" aria-label="breadcrumb">
          <ol class="breadcrumb">
            <li class="breadcrumb-item"><a href="#">Home</a></li>
            <li class="breadcrumb-item active" aria-current="page" *ngFor="let item of breadcrumbs">
              <a href="javascript:;" (click)="categoryBreadcrumbHandler(item.label)">{{item.label}}</a>
            </li>
          </ol>
        </nav>
      </div>
    </div>
    <div class="row align-items-center justify-content-between">
      <div class="col-md-3">
        <div class="input-group mb-3">
          <input
            type="text"
            class="form-control"
            placeholder="Category name"
            aria-label="Category name"
            aria-describedby="button-addon2"
            [(ngModel)]="searchCategory"
          />
        </div>
      </div>
      <div class="col-md-2">
        <div class="d-grid gap-2 d-md-flex justify-content-md-end">
          <button
            class="btn btn-primary me-md-2"
            type="button"
            (click)="addEditCategory('add')"
          >
            Add
          </button>
          <button
            class="btn btn-danger"
            type="button"
            (click)="deleteCategoryHandler()"
            [disabled]="!selectAll && !selectedCategories.length"
          >
            Delete Selected
          </button>
        </div>
      </div>
    </div>
    <div class="row justify-content-center align-items-center">
      <div class="col-md-12">
        <table class="table">
          <thead>
            <tr>
              <th scope="col">
                <input
                  class="form-check-input"
                  (change)="checkUncheckAll()"
                  [(ngModel)]="selectAll"
                  type="checkbox"
                  id="checkboxNoLabel"
                  value=""
                  aria-label="..."
                />
              </th>
              <th scope="col">Category #</th>
              <th scope="col">Name</th>
              <th scope="col">Parent</th>
              <th scope="col">Status</th>
              <th scope="col">Actions</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let category of categories | search: searchCategory">
              <th scope="row">
                <input
                  class="form-check-input"
                  [(ngModel)]="category.isChecked"
                  (change)="selectCategoryHandler()"
                  type="checkbox"
                  id="checkboxNoLabel"
                  value=""
                  aria-label="..."
                />
              </th>
              <td>
                <a href="javascript:;" (click)="categoryHandler(category)">{{ category.id }}</a>
              </td>
              <td>{{ category.title_EN }}</td>
              <td>{{ category.parentId ? category.parentId : "-" }}</td>
              <td>{{ category.status }}</td>
              <td>
                <div class="d-grid gap-2 d-md-flex">
                  <button
                    class="btn btn-primary me-md-2"
                    type="button"
                    (click)="addEditCategory('edit', category)"
                  >
                    Edit
                  </button>
                  <button
                    class="btn btn-danger"
                    type="button"
                    (click)="deleteCategoryHandler(category.id)"
                  >
                    Delete
                  </button>
                </div>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>
</main>
